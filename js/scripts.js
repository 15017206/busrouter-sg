!function(a,b){"function"==typeof define&&define.amd?define([],b):"undefined"!=typeof module&&module.exports?module.exports=b():a.lscache=b()}(this,function(){function a(){var a="__lscachetest__";if(void 0!==n)return n;try{h(a,a),i(a),n=!0}catch(a){n=!!b(a)}return n}function b(a){return!!(a&&"QUOTA_EXCEEDED_ERR"===a.name||"NS_ERROR_DOM_QUOTA_REACHED"===a.name||"QuotaExceededError"===a.name)}function c(){return void 0===o&&(o=null!=window.JSON),o}function d(a){
return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function e(a){return a+q}function f(){return Math.floor((new Date).getTime()/s)}function g(a){return localStorage.getItem(p+u+a)}function h(a,b){localStorage.removeItem(p+u+a),localStorage.setItem(p+u+a,b)}function i(a){localStorage.removeItem(p+u+a)}function j(a){for(var b=new RegExp("^"+p+d(u)+"(.*)"),c=localStorage.length-1;c>=0;--c){var f=localStorage.key(c);f=f&&f.match(b),f=f&&f[1],f&&f.indexOf(q)<0&&a(f,e(f))}}function k(a){var b=e(a)
;i(a),i(b)}function l(a){var b=e(a),c=g(b);if(c){var d=parseInt(c,r);if(f()>=d)return i(a),i(b),!0}}function m(a,b){v&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+a),b&&window.console.warn("lscache - The error was: "+b.message))}var n,o,p="lscache-",q="-cacheexpiration",r=10,s=6e4,t=Math.floor(864e13/s),u="",v=!1;return{set:function(d,l,n){if(a()){if("string"!=typeof l){if(!c())return;try{l=JSON.stringify(l)}catch(a){return}}try{h(d,l)}catch(a){
if(!b(a))return void m("Could not add item with key '"+d+"'",a);var o,p=[];j(function(a,b){var c=g(b);c=c?parseInt(c,r):t,p.push({key:a,size:(g(a)||"").length,expiration:c})}),p.sort(function(a,b){return b.expiration-a.expiration});for(var q=(l||"").length;p.length&&q>0;)o=p.pop(),m("Cache is full, removing item with key '"+d+"'"),k(o.key),q-=o.size;try{h(d,l)}catch(a){return void m("Could not add item with key '"+d+"', perhaps it's too big?",a)}}n?h(e(d),(f()+n).toString(r)):i(e(d))}},
get:function(b){if(!a())return null;if(l(b))return null;var d=g(b);if(!d||!c())return d;try{return JSON.parse(d)}catch(a){return d}},remove:function(b){a()&&k(b)},supported:function(){return a()},flush:function(){a()&&j(function(a){k(a)})},flushExpired:function(){a()&&j(function(a){l(a)})},setBucket:function(a){u=a},resetBucket:function(){u=""},enableWarnings:function(a){v=a}}}),function(){function a(a){function d(){for(;h=k<j.length&&l<a;){var b=k++,d=j[b],f=c.call(d,1);f.push(e(b)),++l,
d[0].apply(null,f)}}function e(a){return function(b,c){--l,null==n&&(null!=b?(n=b,k=m=NaN,f()):(j[a]=c,--m?h||d():f()))}}function f(){null!=n?o(n):i?o(n,j):o.apply(null,[n].concat(j))}var g,h,i,j=[],k=0,l=0,m=0,n=null,o=b;return a||(a=1/0),g={defer:function(){return n||(j.push(arguments),++m,d()),g},await:function(a){return o=a,i=!1,m||f(),g},awaitAll:function(a){return o=a,i=!0,m||f(),g}}}function b(){}var c=[].slice;a.version="1.0.7","function"==typeof define&&define.amd?define(function(){
return a}):"object"==typeof module&&module.exports?module.exports=a:this.queue=a}(),function(a){var b=[],c=function(){},d={defaultPath:"/",before:c,on:c,notfound:c},e={current:null,previous:null,config:function(a){for(var b in a)a.hasOwnProperty(b)&&(d[b]=a[b]);return e},add:function(a,c,d){return a&&c&&("function"==typeof c&&(d=c,c=null),b.push({path:a,name:c,fn:d||function(){}})),e},go:function(a){return location.hash=a,e},back:function(a){return e.previous?(history.back(),
e.previous=null):a&&(location.hash=a),e}},f=function(){var a=location.hash.slice(1),c=!1,f=e.current;a||(a=d.defaultPath),f&&f!=e.previous&&(e.previous=f),e.current=a;for(var g=0,h=b.length;g<h&&!c;g++){var i=b[g],j=i.path,k=i.name,l=i.fn;if("string"==typeof j)j.toLowerCase()==a.toLowerCase()&&(d.before.call(e,j,k),l.call(e),d.on.call(e,j,k),c=!0);else{var m=a.match(j);m&&(d.before.call(e,j,k,m),l.apply(e,m),d.on.call(e,j,k,m),c=!0)}}return c||d.notfound.call(e),e};e.init=function(b){
return a.addEventListener("hashchange",f),f()},e.reload=f,a.ruto=e}(window);var Yokuto=function(){var a=function(a,b){return!(!a||1!==a.nodeType)&&(a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.oMatchesSelector||a.msMatchesSelector).call(a,b)},b=function(b,c){var d=!1;do{d=a(b,c)}while(!d&&(b=b.parentNode)&&b.ownerDocument);return!!d&&b},c=function(a,b){if(!a)return this;b||(b=document);var c;"string"!=typeof a?(this.selector="",c=[a]):(this.selector=a,
c=[].slice.call(b.querySelectorAll(a)));for(var d=this.length=c.length,e=0;e<d;e++)this[e]=c[e];return this};return c.prototype={each:function(a){for(var b=this.length,c=0;c<b;c++){var d=this[c];a.call(d,d,c)}return this},on:function(a,c,d,e){return"string"!=typeof c?(e=d,d=c,this.each(function(b){a.split(" ").forEach(function(a){b.addEventListener(a,d,e||!1)})})):this.each(function(f){a.split(" ").forEach(function(a){f.addEventListener(a,function(a){var e=b(a.target,c);e&&d.call(e,a)},e||!1)})
}),this},trigger:function(a){if(!this.length)return this;var b=this[0],c=document.createEvent("MouseEvents"),d="dblclick"==a?2:1,e="contextmenu"==a?2:0;return c.initEvent(a,!0,!0,document.defaultView,d,0,0,0,0,!1,!1,!1,!1,e,b),b.dispatchEvent(c),this},find:function(a){return new c(a,this[0])},parent:function(){var a=this[0];return new c(a.parentElement||a.parentNode)},next:function(){var a=this[0];return new c(a.nextElementSibling||a.nextSibling)},prev:function(){var a=this[0]
;return new c(a.previousElementSibling||a.previousSibling)},addClass:function(a){return this.each(function(b){b.classList.add(a)}),this},removeClass:function(a){return this.each(function(b){b.classList.remove(a)}),this},toggleClass:function(a){return this.each(function(b){b.classList.toggle(a)}),this},html:function(a){return this.length?a?(this[0].innerHTML=a,this):this[0].innerHTML:this},attr:function(a){return this.length?this[0].getAttribute(a):""},data:function(a){
if(this.length)return this[0].getAttribute("data-"+a)},text:function(a){if(!this.length)return"";var b=this[0];return a?(b.textContent=a,this):b.textContent},val:function(a){if(!this.length)return"";var b=this[0];return"string"==typeof a?(b.value=a,this):b.value},focus:function(){return this.length&&this[0].focus&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur&&this[0].blur(),this}},function(a){return new c(a)}}();"$"in window||(window.$=Yokuto),function(){
if(window.addEventListener){if("2"!=lscache.get("busDataVersion")&&localStorage&&localStorage.length&&localStorage.removeItem){for(var a=localStorage.length-1;a>=0;--a){var b=localStorage.key(a);0===b.indexOf("__amplify__bus")&&localStorage.removeItem(b)}lscache.flush(),lscache.set("busDataVersion","2")}var c,d={busStops:"bus-stops.json",busServices:"bus-services.json",busService:"bus-services/{{no}}.json",busStopsServices:"bus-stops-services.json"},e=function(a,b,c){2==arguments.length&&(c=b,
b={});var e=lscache.get(a);if(e)c(null,e);else{var f=new XMLHttpRequest,g="data/2/"+d[a.split("-")[0]];for(p in b)g=g.replace("{{"+p+"}}",b[p]);f.onload=function(){try{var b=JSON.parse(this.responseText);c(null,b),lscache.set(a,b,1440)}catch(a){c(a)}},f.onerror=f.onabort=c,f.open("get",g,!0),f.send()}},f=[function(a){e("busStops",a)},function(a){e("busServices",a)},function(a){e("busStopsServices",a)},function(a){function b(){
var b=new google.maps.LatLng(1.352083,103.819836),d=new google.maps.Map(document.getElementById("map"),{mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,keyboardShortcuts:!0}),e=new google.maps.LatLngBounds(new google.maps.LatLng(1.25352193438281,103.62192147229632),new google.maps.LatLng(1.50129709375363,103.99983438993593));d.fitBounds(e);var f="assets/images/bus-sprite.png",g=new google.maps.Size(78,84);if(c={location:{url:f,scaledSize:g,size:new google.maps.Size(18,19),
anchor:new google.maps.Point(9,9.5),origin:new google.maps.Point(48,0)},circle:{url:f,scaledSize:g,size:new google.maps.Size(18,19),anchor:new google.maps.Point(9,9.5),origin:new google.maps.Point(30,0)},dot:{url:f,scaledSize:g,size:new google.maps.Size(26,38),origin:new google.maps.Point(0,46)},a:{url:f,scaledSize:g,size:new google.maps.Size(26,38),origin:new google.maps.Point(26,46)},b:{url:f,scaledSize:g,size:new google.maps.Size(26,38),origin:new google.maps.Point(52,46)}},
navigator.geolocation){var h=document.getElementById("geolocation-control");d.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(h);var i,j=new google.maps.Marker({map:d,clickable:!1,title:"Current location",icon:c.location,cursor:"default",visible:!1,zIndex:9001}),k=new google.maps.Circle({map:d,clickable:!1,fillColor:"#00b4d2",fillOpacity:.1,strokeWeight:0,visible:!1,zIndex:9e3}),l=!1,m=function(){navigator.geolocation.clearWatch(i),l=!1,k.setVisible(!1),j.setVisible(!1),
$("#geolocation-control").removeClass("active")};$("#map").on("click","#geolocation-control",function(a){if(a.preventDefault(),l){var b=j.getPosition();d.getBounds().contains(b)?m():d.panTo(b)}else{var c=!1;i=navigator.geolocation.watchPosition(function(a){l=!0;var b=a.coords,f=new google.maps.LatLng(b.latitude,b.longitude);if(k.setCenter(f),k.setRadius(b.accuracy),k.setVisible(!0),j.setPosition(f),j.setVisible(!0),!c&&e.contains(f)){d.panTo(f);d.getZoom()<15&&d.setZoom(15),c=!0}
$("#geolocation-control").addClass("active")},function(a){m(),alert("Unable to get your location. Please try again.")},{enableHighAccuracy:!0,timeout:6e4,maximumAge:5e3})}})}var n=$("#bounds-warning");google.maps.event.addListener(d,"bounds_changed",function(){var a=d.getBounds();a&&(a.intersects(e)?n.removeClass("visible"):n.addClass("visible"))}),$("#back-sg").on("click",function(a){a.preventDefault(),n.removeClass("visible"),d.panTo(b),setTimeout(function(){d.fitBounds(e)},300)})
;var o=document.getElementById("header-search");d.controls[google.maps.ControlPosition.RIGHT_TOP].push(o);var p=$("#places-search-form");p.on("submit",function(a){a.preventDefault()});var q=new google.maps.places.Autocomplete(p.find("input")[0],{bounds:e,componentRestrictions:{country:"sg"}});google.maps.event.addListener(q,"place_changed",function(){$("#search").removeClass("show");var a=q.getPlace()
;a.geometry&&(a.geometry.viewport?d.fitBounds(a.geometry.viewport):(d.setCenter(a.geometry.location),d.setZoom(17)))}),lscache.get("busrouter-intro")||/\w/i.test(location.hash)||$("#about").addClass("show"),a(null,d)}queue().defer(function(a){var b=document.createElement("script");b.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDJii3LssFIl3cw4XzTxtWqSls57rayV5I&libraries=places&callback=loadMap",document.body.appendChild(b),window.loadMap=a}).await(b)}],g=function(a,b){
if(a||!b||4!=b.length)return void alert("Oops, an error occured.");var d=b[0],f=b[1],g=b[2],h=b[3],i={};d.forEach(function(a){i[a.no]=a});var j={},k={};f.services.forEach(function(a){var b=a.type;j[b]?j[b].push(a):j[b]=[a],k[a.no]=a})
;var l=$("#bus-services"),m='<label class="search-field"><svg class="icon"><use xlink:href="#search-icon"></use></svg><input placeholder="Bus service number e.g.: 133" required><a href="#" class="close"><svg class="icon"><use xlink:href="#times"></use></svg></a></label>';for(type in j){var n=j[type];m+="<h2>"+f.types[type]+"</h2><ul>";for(var o=0,p=n.length;o<p;o++){var q=n[o],r=q.no;m+='<li><a href="#/services/'+r+'" id="service-'+r+'">'+r+" <span>"+q.name+"</span></a></li>"}m+="</ul>"}
l.html(m);var s=l.find("input"),t=l.find("li a"),u=function(){var a=s.val();t.each(function(b){b.textContent.trim().toLowerCase().indexOf(a.toLowerCase())<0?$(b).addClass("hidden"):$(b).removeClass("hidden")})};s.on("input",u),l.find(".close").on("click",function(a){a.preventDefault(),s.val(""),u(),s.focus()});var v=[],w={},x=new google.maps.InfoWindow({maxWidth:260}),y=new google.maps.Polyline({clickable:!1,strokeColor:"#f01b48",strokeWeight:5,strokeOpacity:.5}),z=function(){
v.forEach(function(a){a.setMap(null),google.maps.event.clearInstanceListeners(a)}),v=[];for(var a in A){var b=A[a];b.setMap(null),google.maps.event.clearInstanceListeners(b)}A={};for(var c in w){var d=w[c];d.setMap(null),google.maps.event.clearInstanceListeners(d)}w={},y.setMap(null),x.close()};google.maps.event.addListener(h,"markerClick",function(a){
var b=a.marker,c=a.stop,d=a.currentService,e=a.hideShowRoutesLink,f=i[c],j=f.name,k=g[c],l='<div class="infowindow"><h1>'+j+'&nbsp;<span class="tag">'+c+"</span></h1>";k.forEach(function(a){l+=a==d?'<span class="infoservice">'+a+"</span> ":'<a href="#/services/'+a+'" class="infoservice">'+a+"</a> "}),l+='<div class="infofooter">',l+='<a href="bus-arrival/#'+c+'" target="_blank" class="show-arrivals"><svg class="icon"><use xlink:href="#clock-o"></use></svg> Show bus arrival times here</a>',
k.length>1&&!e&&(l+='<a href="#/stops/'+c+'" class="show-routes"><svg class="icon"><use xlink:href="#code-fork"></use></svg> Show all routes passing here</a>'),l+="</div></div>",x.setContent(l),x.open(h,b)});var A={};google.maps.event.addListener(h,"idle",function(){if("home"==E){var a=$("#bus-stops");if(h.getZoom()>=15){$("#bus-stops-section").removeClass("hidden");var b=h.getBounds();for(var e in A){var f=A[e];if(!b.contains(f.getPosition())){f.setMap(null),A[e]=void 0;try{delete A[e]
}catch(a){}}}var g=[];if(d.forEach(function(a){var d=a.no;if(!A[d]){var e=new google.maps.LatLng(a.lat,a.lng);if(!b.contains(e))return;var f=new google.maps.Marker({position:e,map:h,title:a.name,icon:c.circle});google.maps.event.addListener(f,"click",function(){google.maps.event.trigger(h,"markerClick",{marker:f,stop:d})}),A[d]=f}g.push({no:d,stop:a})}),g.length){var i="<ul>";g.sort(function(a,b){var c=a.stop.name,d=b.stop.name;return c<d?-1:c>d?1:0}),g.forEach(function(a){
var b=a.no,c=a.stop.name;i+='<li><a class="stop" id="stop-'+b+'"><span class="tag">'+b+"</span> "+c+"</a></li>"}),i+="</ul>",a.html(i)}else a.html("<p>Try zoom in or pan around to see bus stops on the map.</p>")}else{for(var e in A)A[e].setMap(null);A=[],a.html("<p>Try zoom in or pan around to see bus stops on the map.</p>")}}}),$("#bus-stops").on("click","li a",function(a){a.preventDefault();var b=$(this).find(".tag").text(),c=A[b],d=c.getPosition();h.panTo(d),
google.maps.event.trigger(c,"click")}),$("#bus-stops-section").on("click","a.close",function(a){a.preventDefault(),$("#bus-stops-section").addClass("hidden")});var B,C=$("#bus-routes"),D=document.title,E="home";ruto.config({notfound:function(){ruto.go("/")}}).add("/",function(){E="home",document.title=D,$("section.extra").addClass("hidden"),z(),setTimeout(function(){l.find("a.selected").removeClass("selected")},400)}).add(/^\/services\/(\w+)\/?(\d)?$/i,function(a,b,d){E="services",
document.title="Bus service "+b+" - "+D,d||(d=1),l.find("a.selected").removeClass("selected"),$("#service-"+b).addClass("selected"),z(),$busServicesSection=$("#bus-services-section").addClass("loading"),e("busService-"+b,{no:b},function(a,e){if($busServicesSection.removeClass("loading"),e){var f=e[d],j=f.route,l=f.stops;j&&j.length||(j=l.map(function(a){var b=i[a];return b.lat+","+b.lng}));var m=j.map(function(a){var b=a.split(",")
;return new google.maps.LatLng(parseFloat(b[0],10),parseFloat(b[1],10))});y.setPath(m),y.setMap(h);var n='<div class="tab-bar">';e[2]&&e[2].route&&e[2].route.length&&(n+='<a href="#/services/'+b+'" class="tab '+(1==d?"selected":"")+'">Route 1</a><a href="#/services/'+b+'/2" class="tab '+(2==d?"selected":"")+'">Route 2</a>');var o=k[b].operator;if(o){
n+='<a href="'+("sbs"==o?"http://www.sbstransit.com.sg/journeyplan/servicedetails.aspx?serviceno=":"http://www.transitlink.com.sg/eservice/eguide/service_route.php?service=")+b.replace(/(A|B)$/,"")+'" target="_blank" class="details"><svg class="icon"><use xlink:href="#list-alt"></use></svg> Bus schedules</a>'}n+="</div>",n+="<ul>";var p=!1,q=l.length,r=new google.maps.LatLngBounds;l.forEach(function(a,d){var e=i[a],f=e.name,j=(g[a],c.circle),k=q-1,m="stop";if(0==d){var o=l[k];f==i[o].name?(p=!0,
j=c.dot,m="stop-dot"):(j=c.a,m="stop-a")}else d==k&&(p?(j=c.dot,m="stop-dot"):(j=c.b,m="stop-b"));if(d==k&&p)v.push(v[0]);else{var s=new google.maps.LatLng(e.lat,e.lng),t=new google.maps.Marker({position:s,map:h,icon:j,title:f,animation:0==d||d==k?google.maps.Animation.DROP:null,zIndex:0==d||d==k?5:1});google.maps.event.addListener(t,"click",function(){google.maps.event.trigger(h,"markerClick",{marker:t,stop:a,currentService:b}),C.find("li a.selected").removeClass("selected"),
$(".stop-"+a+'[data-index="'+d+'"]').addClass("selected").focus()}),v.push(t),r.extend(s)}n+='<li><a tabindex="0" href="#" class="'+m+" stop-"+a+'" data-index="'+d+'"><i></i><span class="tag">'+a+"</span> "+f+"</a></li>"}),C.html(n+"</ul>"),C[0].scrollTop=0,$("#bus-routes-section h1 b").text(b),$("section.extra").addClass("hidden"),$("#bus-routes-section").removeClass("hidden"),b==B&&r.contains(h.getCenter())||(B=b,h.panTo(r.getCenter()),setTimeout(function(){h.fitBounds(r)},400)),
lscache.set("busService-"+b,e,1440)}})}).add(/^\/stops\/(\w+)$/i,function(a,b){E="stops",document.title="Bus stop "+b+" - "+D,z(),$("#bus-stop-routes-section").removeClass("hidden").addClass("loading").find("h1 b").text(b);var d=i[b],f=new google.maps.LatLng(d.lat,d.lng),j=new google.maps.Marker({position:f,map:h,icon:c.dot,title:d.name,animation:google.maps.Animation.DROP});google.maps.event.addListener(j,"click",function(){google.maps.event.trigger(h,"markerClick",{marker:j,stop:b,
hideShowRoutesLink:!0})}),v.push(j);var l=g[b],m=new google.maps.LatLngBounds,n="",o=function(a,c){var d=a[1],e=d.stops;-1!=e.indexOf(b)&&e[e.length-1]!=b||(d=a[2],e=d.stops,-1==e.indexOf(b)&&(d=a[1],e=d.stops)),e.forEach(function(a){var b=i[a];m.extend(new google.maps.LatLng(b.lat,b.lng))});var f=d.route;if(f){for(var g=[],j=0,l=f.length;j<l;j++){var o=f[j],p=o.split(","),q=new google.maps.LatLng(parseFloat(p[0],10),parseFloat(p[1],10));g.push(q)}var r=new google.maps.Polyline({
strokeColor:"#f01b48",strokeWeight:5,strokeOpacity:.4,path:g,map:h});google.maps.event.addListener(r,"mouseover",function(){$("#stop-service-"+c).trigger("mouseover").focus()}),google.maps.event.addListener(r,"mouseout",function(){$("#stop-service-"+c).trigger("mouseout").blur()}),google.maps.event.addListener(r,"click",function(){location.href=$("#stop-service-"+c).attr("href")}),w[c]=r,
n+='<li><a href="#/services/'+c+'" id="stop-service-'+c+'"><span class="tag">'+c+"</span> "+k[c].name+"</a></li>"}},p=queue();l.forEach(function(a){p.defer(function(b){e("busService-"+a,{no:a},function(c,d){o(d,a),b()})})}),p.awaitAll(function(){h.fitBounds(m),$("#bus-stop-routes-section").removeClass("loading"),$("#bus-stop-routes").html("<ul>"+n+"</ul>")})}).init(),$("#bus-routes").on("click","li a",function(a){a.preventDefault();var b=$(this).data("index"),c=v[b];if(c){var d=c.getPosition()
;h.getZoom()<15&&h.setZoom(15),h.panTo(d),google.maps.event.trigger(c,"click")}}),$("#bus-stop-routes").on("mouseover touchstart","li a",function(){var a=$(this).find(".tag").text();for(var b in w){var c=w[b];b==a?c.setOptions({strokeOpacity:.8}):c.setOptions({strokeOpacity:.1})}}).on("mouseout touchend touchcancel","li a",function(){for(var a in w)w[a].setOptions({strokeOpacity:.4})}),$(document).on("keyup",function(a){
if(/services\/.+/i.test(location.hash)&&(!a.target.tagName||"input"!=a.target.tagName.toLowerCase())){switch(a.keyCode){case 39:case 40:var b=C.find("li a.selected");if(!b.length)return;b.removeClass("selected");var c=b.parent().next();if(!c.length)return;c.find("a").trigger("click");break;case 37:case 38:var b=C.find("li a.selected");if(!b.length)return;b.removeClass("selected");var d=b.parent().prev();if(!d.length)return;d.find("a").trigger("click")}}}),$("#sidebar").on("click",function(a){
var b=a.target,c=b.tagName.toLowerCase();("h1"==c||"b"==c&&"h1"==b.parentNode.tagName.toLowerCase())&&(a.preventDefault(),$("body").toggleClass("sidebar-collapsed"),setTimeout(function(){google.maps.event.trigger(h,"resize")},300))})},h=queue();f.forEach(function(a){h.defer(a)}),h.awaitAll(g),$("#heading").on("click",function(){$("#about").addClass("show")}),$("#header-search").on("click",function(){$("#search").addClass("show"),$("#places-search-form input").focus()}),
$("#about .close").on("click",function(){lscache.set("busrouter-intro",!0),$("#about").removeClass("show")}),$("#search .close").on("click",function(){$("#search").removeClass("show")}),$("#map").on("click","a.show-arrivals",function(a){a.preventDefault();var b=((screen.availHeight||screen.height)-480)/2,c=(screen.width-320)/2;window.open(this.href,"busArrivals"+new Date,"width=320,height=480,menubar=0,toolbar=0,top="+b+",left="+c)})}}();
//# sourceMappingURL=scripts.js.map